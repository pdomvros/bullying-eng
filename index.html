<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peer Pressure Dilemma</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@600&display=swap');

        body {
            font-family: 'Comfortaa', cursive;
            text-align: center;
            padding: 20px;
            background-color: black;
            color: white;
        }
        h1 {
            font-size: 40px;
            color: gold;
            text-shadow: 0 0 10px gold, 0 0 20px gold;
            margin-bottom: 10px;
        }
        .creator {
            font-size: 14px;
            color: gold;
            margin-bottom: 20px;
            opacity: 0.8;
        }
        .instructions {
            font-size: 18px;
            color: gold;
            margin-bottom: 20px;
        }
        .container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .player {
            width: 23%;
            border: 2px solid gold;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            margin-bottom: 10px;
        }
        #player1 { background-color: rgba(255, 99, 71, 0.2); } /* Tomato */
        #player2 { background-color: rgba(0, 191, 255, 0.2); } /* Deep Sky Blue */
        #player3 { background-color: rgba(50, 205, 50, 0.2); } /* Lime Green */
        #player4 { background-color: rgba(147, 112, 219, 0.2); } /* Medium Purple */
        .scenario {
            font-size: 18px;
            margin-bottom: 10px;
        }
        .choices button {
            display: block;
            margin: 5px auto;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            background-color: white;
            color: black;
            border: none;
            font-family: 'Comfortaa', cursive;
        }
        .choices button:hover {
            background-color: gray;
        }
        .score {
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
        }
        .flash {
            font-size: 30px;
            font-weight: bold;
            color: limegreen;
            text-shadow: 0 0 10px limegreen, 0 0 20px limegreen;
            margin-top: 20px;
        }
        h2 {
            font-size: 20px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>âš¡ Peer pressure can lead to bullying! âš¡</h1>
    <div class="creator">Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±: Î Î±Î½Î±Î³Î¹ÏÏ„Î·Ï‚ Î”ÏŒÎ¼Î²ÏÎ¿Ï‚ (CC BY-NC)</div>
    <div class="instructions">
        ğŸ¤ In collaboration with your team, make wise choices to the following scenarios. ğŸ¤<br>
        ğŸ† The wiser the choice, the more points you gather. ğŸ†<br>
        ğŸ… The team who manages to collect the most points will be appointed Chief Mediators in our school! ğŸ…
    </div>
    <div class="container">
        <div class="player" id="player1">
            <h2>#team_peacekeepers âœŒï¸</h2>
            <div id="scenarios1"></div>
            <div class="score" id="score1">Score: 0 ğŸ¯</div>
        </div>
        <div class="player" id="player2">
            <h2>#team_avengers ğŸ¦¸</h2>
            <div id="scenarios2"></div>
            <div class="score" id="score2">Score: 0 ğŸ¯</div>
        </div>
        <div class="player" id="player3">
            <h2>#team_protectors ğŸ›¡ï¸</h2>
            <div id="scenarios3"></div>
            <div class="score" id="score3">Score: 0 ğŸ¯</div>
        </div>
        <div class="player" id="player4">
            <h2>#team_diplomats ğŸ•Šï¸</h2>
            <div id="scenarios4"></div>
            <div class="score" id="score4">Score: 0 ğŸ¯</div>
        </div>
    </div>
    <div id="flash" class="flash"></div>

    <!-- Audio for winner -->
    <audio id="winnerSound" src="winner.mp3"></audio>
    
    <script>
        const playerScenarios = [
            [
                "Your friends pressure you to cheat on a test. ğŸ§ ", 
                "Someone dares you to steal from a store. ğŸ›ï¸", 
                "Your friends mock someone online. ğŸ’»", 
                "You see a friend getting bullied but saying nothing. ğŸ˜¶", 
                "Your group pressures you to skip school. ğŸ«",
                "A classmate pressures you to join in teasing someone. ğŸ˜’", 
                "Your friends encourage you to break school rules. ğŸš«", 
                "Someone pressures you to lie to a teacher. ğŸ“", 
                "Your peers dare you to vandalize school property. ğŸ¨", 
                "A friend asks you to exclude someone from a group. ğŸš·"
            ],
            [
                "You are encouraged to lie to avoid trouble. ğŸ¤¥", 
                "Your friends want you to spread a rumor. ğŸ“¢", 
                "Someone asks you to drive without a license. ğŸš—", 
                "You are pressured to drink alcohol. ğŸº", 
                "You see someone being excluded but do nothing. ğŸš¶â€â™‚ï¸",
                "A peer pressures you to skip an important class. ğŸ“š", 
                "Your friends encourage you to make fun of someone. ğŸ˜‚", 
                "Someone pressures you to hide their mistake. ğŸ¤«", 
                "Your group dares you to prank a teacher. ğŸ­", 
                "A friend asks you to ignore someone in need. ğŸ™ˆ"
            ],
            [
                "You are pushed to fight someone at school. ğŸ‘Š", 
                "A friend asks you to cover up a mistake. ğŸ¤«", 
                "Your peers pressure you to smoke. ğŸš¬", 
                "Someone encourages you to fake an illness. ğŸ¤’", 
                "You see someone in danger but hesitate to act. âš ï¸",
                "A classmate pressures you to join in bullying someone. ğŸ˜ ", 
                "Your friends encourage you to break a promise. ğŸ¤", 
                "Someone pressures you to cheat in a game. ğŸ²", 
                "Your peers dare you to insult a teacher. ğŸ‘©â€ğŸ«", 
                "A friend asks you to spread false information. ğŸ“¢"
            ],
            [
                "Your friends want you to vandalize property. ğŸ¨", 
                "Someone pressures you to give away your password. ğŸ”‘", 
                "You are dared to insult a teacher. ğŸ‘©â€ğŸ«", 
                "A friend wants you to betray someoneâ€™s trust. ğŸ¤", 
                "You are pressured to break a rule at school. ğŸ“œ",
                "A peer pressures you to join in excluding someone. ğŸš·", 
                "Your friends encourage you to make a harmful joke. ğŸ˜‚", 
                "Someone pressures you to hide their bad behavior. ğŸ¤«", 
                "Your group dares you to skip an important event. ğŸ“…", 
                "A friend asks you to lie to your parents. ğŸ "
            ]
        ];

        // Different variations of choices for each scenario
        const choiceVariations = [
            ["Stand up against it âœŠ", "Refuse and walk away ğŸš¶â€â™‚ï¸", "Say no firmly ğŸš«", "Take a stand and oppose it ğŸ›‘"],
            ["Go along with it ğŸ˜¬", "Agree reluctantly ğŸ˜•", "Follow the crowd ğŸ‘", "Give in to the pressure ğŸ‘"],
            ["Report it ğŸš¨", "Tell an authority figure ğŸ—£ï¸", "Inform a teacher ğŸ‘©â€ğŸ«", "Seek help from an adult ğŸ†˜"],
            ["Ignore it ğŸ™ˆ", "Pretend it didn't happen ğŸ¤", "Avoid getting involved ğŸš·", "Turn a blind eye ğŸ™‰"]
        ];

        const scores = [10, -5, 5, 0]; // Scores for each type of choice
        let playerScores = [0, 0, 0, 0];
        let scenarioIndexes = [0, 0, 0, 0];
        
        function loadScenario(player) {
            let scenariosDiv = document.getElementById(`scenarios${player+1}`);
            scenariosDiv.innerHTML = "";
            if (scenarioIndexes[player] < playerScenarios[player].length) {
                let scenarioDiv = document.createElement("div");
                scenarioDiv.classList.add("scenario");
                scenarioDiv.textContent = "ğŸ“œ " + playerScenarios[player][scenarioIndexes[player]];
                
                let choiceDiv = document.createElement("div");
                choiceDiv.classList.add("choices");

                // Shuffle the choices for each scenario
                let shuffledChoices = shuffleArray([...choiceVariations]);
                shuffledChoices.forEach((choiceSet, index) => {
                    let button = document.createElement("button");
                    button.textContent = choiceSet[Math.floor(Math.random() * choiceSet.length)]; // Randomly pick a variation
                    button.onclick = () => choose(player, index, scenarioDiv);
                    choiceDiv.appendChild(button);
                });
                scenariosDiv.appendChild(scenarioDiv);
                scenariosDiv.appendChild(choiceDiv);
            } else {
                scenariosDiv.innerHTML = "<div class='scenario'>ğŸ‰ No more scenarios! ğŸ‰</div>";
            }
        }
        
        function choose(player, option, scenarioDiv) {
            playerScores[player] += scores[option];
            document.getElementById(`score${player+1}`).textContent = `Score: ${playerScores[player]} ğŸ¯`;
            scenarioDiv.style.display = "none";
            scenarioIndexes[player]++;
            loadScenario(player);
            checkEnd();
        }
        
        function checkEnd() {
            if (scenarioIndexes.every(index => index >= playerScenarios[0].length)) {
                let maxScore = Math.max(...playerScores);
                let winningTeams = [];
                playerScores.forEach((score, index) => {
                    if (score === maxScore) {
                        winningTeams.push(index);
                    }
                });

                let teamNames = ["#team_peacekeepers âœŒï¸", "#team_avengers ğŸ¦¸", "#team_protectors ğŸ›¡ï¸", "#team_diplomats ğŸ•Šï¸"];
                let winningTeamNames = winningTeams.map(teamIndex => teamNames[teamIndex]).join(" and ");

                let message = `ğŸ‰ğŸ‰ Congrats ${winningTeamNames}! You are now the Chief Mediators of the school! ğŸ‰ğŸ‰`;
                document.getElementById("flash").innerHTML = message;

                // Play winner sound
                let winnerSound = document.getElementById("winnerSound");
                winnerSound.play();
            }
        }

        // Helper function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        for (let i = 0; i < 4; i++) {
            loadScenario(i);
        }
    </script>
</body>
</html>
